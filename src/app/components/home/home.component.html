<div style="display: flex; flex-direction: row; justify-content: space-around">
  <div style="display: flex; flex-direction: column">
    <app-currency-totals style="margin-bottom: 10px"
                         [title]="'Accounts totals'"
                         [valuesLeft]="accounts"
                         [currencyExtractorLeft]="accountCurrencyExtractor"
                         [balanceExtractorLeft]="accountBalanceExtractor"
    ></app-currency-totals>
    <app-currency-totals style="margin-bottom: 10px"
                         [title]="'Piggy Banks totals'"
                         [valuesLeft]="piggyBanks"
                         [currencyExtractorLeft]="piggyBankCurrencyExtractor"
                         [balanceExtractorLeft]="piggyBankBalanceExtractor"
    ></app-currency-totals>
    <app-currency-totals
      [title]="'Balance'"
      [valuesLeft]="accounts"
      [currencyExtractorLeft]="accountCurrencyExtractor"
      [balanceExtractorLeft]="accountBalanceExtractor"
      [valuesRight]="piggyBanks"
      [currencyExtractorRight]="piggyBankCurrencyExtractor"
      [balanceExtractorRight]="piggyBankBalanceExtractor"
    ></app-currency-totals>
    <app-user-accounts [userName]="loginService.getUserName()"
                       [accounts]="accounts"
                       (selectionChanged)="selectAccount($event)">
    </app-user-accounts>
    <span (click)="showTransactions = !showTransactions" style="margin-bottom: 10px">
      <span *ngIf="showTransactions">Hide</span>
      <span *ngIf="!showTransactions">Show</span>
      transactions</span>
    <app-transactions-list *ngIf="showTransactions"
                           [allAccounts]="accounts"
                           [account]="selectedAccount"
                           [transactions]="transactionsOfSelectedAccount"
                           (transactionAction)="refreshData()">
    </app-transactions-list>
  </div>

  <app-piggy-banks
    [adminMode]="false"
    [piggyBanks]="piggyBanks"
    (updateEvent)="updatePiggyBank($event)"
    style="margin-left: 50px; margin-top: 50px;margin-right: 50px"></app-piggy-banks>
  <div style="display: flex; flex-direction: column">
    <div style="display: flex; flex-direction: row">
      <a (click)="previous()">Previous</a>
      &nbsp;&nbsp;&nbsp;<span *ngIf="currentBilling">
         Billing {{currentBilling.name}} for {{ currentBilling.period | date:'yyyy-MM' }}
       </span>
      <span *ngIf="!currentBilling">
         No billing for {{displayingPeriod | date:'yyyy-MM' }}
       </span>
      <a (click)="next()">Next</a>
    </div>
    <app-billing-periods
      [billing]="currentBilling"
      (createEvent)="createBillingForCurrentDate()">

    </app-billing-periods>
  </div>

</div>
